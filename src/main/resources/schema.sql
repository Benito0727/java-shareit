CREATE TABLE IF NOT EXISTS users (
user_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
user_name VARCHAR(64) NOT NULL,
user_email VARCHAR(128) NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS items (
item_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
item_name VARCHAR(64) NOT NULL,
item_description VARCHAR(512) NOT NULL
);

CREATE TABLE IF NOT EXISTS item_available (
item_id BIGINT NOT NULL,
item_available BOOLEAN NOT NULL,
CONSTRAINT item_available_fk FOREIGN KEY (item_id) REFERENCES items(item_id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS users_items (
user_id BIGINT NOT NULL,
item_id BIGINT NOT NULL,
CONSTRAINT user_items_fk FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE,
CONSTRAINT items_users_fk FOREIGN KEY (item_id) REFERENCES items(item_id) ON UPDATE CASCADE ON DELETE CASCADE
);